<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>做题记录</title>
</head>
<body>

</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function showMyExerciseHistory(){
        $.ajax({
            url: 'http://localhost:8080/ExamDemo_war_exploded/userAndCourseServlet',
            type:'POST',
            dataType:'json',
            contentType: 'application/json',
            beforeSend: function (xhr) {
                var token = sessionStorage.getItem('token');
                if (token) {
                    xhr.setRequestHeader('Authorization',  token);
                }
            },
            data: JSON.stringify({
                "method": "showMyExerciseHistory"
            }),
            success:function(response){
                if(response.message === "success"){
                    $.each(response.details, function(index, item){
                        var newCourse = $("<a href='http://localhost:8080/ExamDemo_war_exploded/courseDetails?courseId='" + item.courseId + ">" + 来自课程 + "</a>");
                        var newExercise = $("<a href='http://localhost:8080/ExamDemo_war_exploded/exercise?partId='" + item.partId + ">" + 来自练习 + "</a>");
                        var newExericseNum = $("<p>练习题数：" + item.exercisesNum + "</p>");
                        var newAccuracy = $("<p>正确率：" + item.accuracy + "</p>");
                        $("body").append(newCourse, newExercise, newScore, newTime);
                    });
                }
            }
        });
    }
</script>
</html>